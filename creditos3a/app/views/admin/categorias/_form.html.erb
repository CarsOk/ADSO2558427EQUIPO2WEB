<div class="container">
  <div class="row">
    <div class="col-md-6 mx-auto">
      <h1 class="mb-4">Crear Categoría</h1>
      <%= simple_form_for [:admin, @categoria], multipart: true do |f| %>
        <div class="form-group">
          <%= f.input :nombre, input_html: { class: 'form-control', required: true } %>
        </div>

        <div class="field">
          <%= f.label :imagen %>
          <%= f.file_field :imagen %>
        </div>
        
        <div class="form-group">
          <%= f.label :catalogo_id, 'Seleccionar un catálogo (opcional)' %>
          <%= f.collection_select :catalogo_id, Catalogo.all, :id, :nombre, { include_blank: "Sin catálogo" }, class: 'form-control' %>
        </div>

        <p>
        <%= Catalogo.count.zero? ? "No hay un catálogo, " + link_to('crea uno', new_admin_categoria_catalogo_path(@categoria)) : "" %>
      </p>
      <% if f.object.catalogo.present? %>
        <p><%= link_to 'Editar catálogo seleccionado', edit_admin_categoria_catalogo_path(f.object.catalogo) %></p>
      <% end %>
      
        <div class="text-center">
          <%= f.button :submit, class: 'btn btn-primary' %>
        </div>
      <% end %>
    </div>
  </div>
</div>
